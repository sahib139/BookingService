# Welcome to Booking Service

## Project Setup 
- clone the project on your local 
- Execute `npm i` in the root directory.
- Install `Rabbitmq` in your system.
- Create `.env` file in the root directory and add the following environment 
    - `PORT = 3002`
    - `FLIGHT_SERVICE_PATH = http://localhost:3000`
    - `MESSAGE_BROKER_URL = amqp://localhost`
    - `EXCHANGE_NAME = AIRLINE_BOOKING`
    - `REMINDER_BINDING_KEY = REMINDER_KEY`
    - `BOOKING_BINDING_KEY = BOOKING_KEY`
    - `ADMIN_ACCESS_TOKEN = < Add a admin access auth token generated by auth service to do network call between different service >`
    - `DB_SYNC = false`  -> for syncing the database initially make it true , after executing once change it to false because we don't want to do syncing every time we start the server.

- Inside the `src/config` folder create a new file `config.json` and then add the following piece of json code

```
{
  "development": {
    "username": "<database_username>",
    "password": "<database_password>",
    "database": "BOOKING_SERVICE_DB_DEV",
    "host": "127.0.0.1",
    "dialect": "<database_name (example-> mysql) >"
  }
}

```

- Once you've added your db config file as listed above ,  go to the src folder form your terminal and execute
    `npx sequelize db:create`
- After creating database , now create all the tables by executing `npx sequelize db:migrate:all`

```
- DB design
    - Booking Table

- Tables association
    - User has Many Roles 
    - Single Roles belongs to Many Users
    Hence Many to Many relationship between two tables

```
- Finally, Run the `npm start` in the root directory to run the Server.
 
